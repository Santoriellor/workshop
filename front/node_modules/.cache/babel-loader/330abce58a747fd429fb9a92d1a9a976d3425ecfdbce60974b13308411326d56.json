{"ast":null,"code":"var _jsxFileName = \"/home/santo/Desktop/Dev/workshop/front/src/components/Page.js\",\n  _s = $RefreshSig$();\nimport { useState, useMemo, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\n// Components\nimport FilterBar from \"./FilterBar\";\nimport DeleteModal from \"./DeleteModal\";\nimport ScrollToTopButton from \"./buttons/ScrollToTopButton\";\n// Contexts\nimport { useGlobalContext } from \"../contexts/GlobalContext\";\nimport { useVehicleContext } from \"../contexts/VehicleContext\";\n// Styles\nimport \"../styles/Cards.css\";\n// Utils\nimport { filterItems } from \"../utils/pageItemFilter\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Page = ({\n  itemType,\n  filters,\n  setFilters,\n  filterOptions,\n  /* sortingCardFunction, */\n  items,\n  deleteItemWithAlert,\n  CardComponent,\n  ModalComponent\n}) => {\n  _s();\n  const location = useLocation();\n  const {\n    selectedItem,\n    setSelectedItem\n  } = useGlobalContext();\n  const [showTypeModal, setShowTypeModal] = useState(false);\n  const [readonly, setReadonly] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const {\n    vehicles,\n    getVehicleInfoByVehicleId\n  } = useVehicleContext();\n  const handleFilterChange = (name, value) => {\n    setFilters({\n      ...filters,\n      [name]: value\n    });\n  };\n\n  // Filter items based on filters\n  const filteredItems = useMemo(() => {\n    return items.filter(item => filterItems(item, filters, vehicles, getVehicleInfoByVehicleId));\n  }, [items, filters, vehicles, getVehicleInfoByVehicleId]);\n  const handleViewClick = item => {\n    setSelectedItem(item);\n    setReadonly(true);\n    setShowDeleteModal(false);\n    setShowTypeModal(true);\n  };\n  const handleCreateClick = () => {\n    setSelectedItem(null);\n    setReadonly(false);\n    setShowDeleteModal(false);\n    setShowTypeModal(true);\n  };\n  const handleEditClick = item => {\n    setSelectedItem(item);\n    setReadonly(false);\n    setShowDeleteModal(false);\n    setShowTypeModal(true);\n  };\n  const handleExportClick = item => {\n    console.log(\"Exporting report\", item);\n  };\n  const handleDeleteClick = item => {\n    setSelectedItem(item);\n    setShowTypeModal(false);\n    setShowDeleteModal(true);\n  };\n  const handleDeleteConfirm = () => {\n    deleteItemWithAlert(selectedItem.id);\n    setShowDeleteModal(false);\n    setSelectedItem(null);\n  };\n\n  // Display the corresponding Modal if viewItemId is passed in location state\n  useEffect(() => {\n    var _location$state;\n    if ((_location$state = location.state) !== null && _location$state !== void 0 && _location$state.viewItemId) {\n      const item = items.find(item => item.id === location.state.viewItemId);\n      if (item) handleViewClick(item);\n    }\n  }, [location.state]);\n\n  // Display the corresponding Modal if createItem is passed in location state\n  useEffect(() => {\n    var _location$state2;\n    if ((_location$state2 = location.state) !== null && _location$state2 !== void 0 && _location$state2.createItem) {\n      handleCreateClick();\n    }\n  }, [location.state]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FilterBar, {\n      filterOptions: filterOptions,\n      onFilterChange: handleFilterChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list\",\n      children: filteredItems.length > 0 ? filteredItems\n      /*  .sort(sortingCardFunction) */.map(item => /*#__PURE__*/_jsxDEV(CardComponent, {\n        item: item,\n        handleViewClick: handleViewClick,\n        handleEditClick: handleEditClick,\n        ...(itemType === \"Report\" ? {\n          handleExportClick\n        } : {}),\n        handleDeleteClick: handleDeleteClick\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"No \", itemType, \" match your filters.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ScrollToTopButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), showTypeModal && /*#__PURE__*/_jsxDEV(ModalComponent, {\n      readonly: readonly,\n      setReadonly: setReadonly,\n      onClose: () => setShowTypeModal(false),\n      onDelete: () => handleDeleteClick(selectedItem),\n      ...(itemType === \"Report\" ? {\n        handleExportClick: () => handleExportClick(selectedItem)\n      } : {})\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      itemType: itemType,\n      onClose: () => setShowDeleteModal(false),\n      handleDeleteConfirm: handleDeleteConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Page, \"aVrlyi2yDt/B9npsJQ6yXjhNRf8=\", false, function () {\n  return [useLocation, useGlobalContext, useVehicleContext];\n});\n_c = Page;\nexport default Page;\nvar _c;\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"names":["useState","useMemo","useEffect","useLocation","FilterBar","DeleteModal","ScrollToTopButton","useGlobalContext","useVehicleContext","filterItems","jsxDEV","_jsxDEV","Fragment","_Fragment","Page","itemType","filters","setFilters","filterOptions","items","deleteItemWithAlert","CardComponent","ModalComponent","_s","location","selectedItem","setSelectedItem","showTypeModal","setShowTypeModal","readonly","setReadonly","showDeleteModal","setShowDeleteModal","vehicles","getVehicleInfoByVehicleId","handleFilterChange","name","value","filteredItems","filter","item","handleViewClick","handleCreateClick","handleEditClick","handleExportClick","console","log","handleDeleteClick","handleDeleteConfirm","id","_location$state","state","viewItemId","find","_location$state2","createItem","children","onFilterChange","fileName","_jsxFileName","lineNumber","columnNumber","className","length","map","onClose","onDelete","_c","$RefreshReg$"],"sources":["/home/santo/Desktop/Dev/workshop/front/src/components/Page.js"],"sourcesContent":["import { useState, useMemo, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\n// Components\nimport FilterBar from \"./FilterBar\";\nimport DeleteModal from \"./DeleteModal\";\nimport ScrollToTopButton from \"./buttons/ScrollToTopButton\";\n// Contexts\nimport { useGlobalContext } from \"../contexts/GlobalContext\";\nimport { useVehicleContext } from \"../contexts/VehicleContext\";\n// Styles\nimport \"../styles/Cards.css\";\n// Utils\nimport { filterItems } from \"../utils/pageItemFilter\";\n\nconst Page = ({\n  itemType,\n  filters,\n  setFilters,\n  filterOptions,\n  /* sortingCardFunction, */\n  items,\n  deleteItemWithAlert,\n  CardComponent,\n  ModalComponent,\n}) => {\n  const location = useLocation();\n  const { selectedItem, setSelectedItem } = useGlobalContext();\n  const [showTypeModal, setShowTypeModal] = useState(false);\n  const [readonly, setReadonly] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const { vehicles, getVehicleInfoByVehicleId } = useVehicleContext();\n\n  const handleFilterChange = (name, value) => {\n    setFilters({ ...filters, [name]: value });\n  };\n\n  // Filter items based on filters\n  const filteredItems = useMemo(() => {\n    return items.filter((item) =>\n      filterItems(item, filters, vehicles, getVehicleInfoByVehicleId)\n    );\n  }, [items, filters, vehicles, getVehicleInfoByVehicleId]);\n\n  const handleViewClick = (item) => {\n    setSelectedItem(item);\n    setReadonly(true);\n    setShowDeleteModal(false);\n    setShowTypeModal(true);\n  };\n\n  const handleCreateClick = () => {\n    setSelectedItem(null);\n    setReadonly(false);\n    setShowDeleteModal(false);\n    setShowTypeModal(true);\n  };\n  const handleEditClick = (item) => {\n    setSelectedItem(item);\n    setReadonly(false);\n    setShowDeleteModal(false);\n    setShowTypeModal(true);\n  };\n  const handleExportClick = (item) => {\n    console.log(\"Exporting report\", item);\n  };\n  const handleDeleteClick = (item) => {\n    setSelectedItem(item);\n    setShowTypeModal(false);\n    setShowDeleteModal(true);\n  };\n  const handleDeleteConfirm = () => {\n    deleteItemWithAlert(selectedItem.id);\n    setShowDeleteModal(false);\n    setSelectedItem(null);\n  };\n\n  // Display the corresponding Modal if viewItemId is passed in location state\n  useEffect(() => {\n    if (location.state?.viewItemId) {\n      const item = items.find((item) => item.id === location.state.viewItemId);\n      if (item) handleViewClick(item);\n    }\n  }, [location.state]);\n\n  // Display the corresponding Modal if createItem is passed in location state\n  useEffect(() => {\n    if (location.state?.createItem) {\n      handleCreateClick();\n    }\n  }, [location.state]);\n\n  return (\n    <>\n      {/* Filter bar with filter options */}\n      <FilterBar\n        filterOptions={filterOptions}\n        onFilterChange={handleFilterChange}\n      />\n\n      {/* Items list with card display */}\n      <div className=\"list\">\n        {filteredItems.length > 0 ? (\n          filteredItems\n            /*  .sort(sortingCardFunction) */\n            .map((item) => (\n              <CardComponent\n                key={item.id}\n                item={item}\n                handleViewClick={handleViewClick}\n                handleEditClick={handleEditClick}\n                {...(itemType === \"Report\" ? { handleExportClick } : {})}\n                handleDeleteClick={handleDeleteClick}\n              />\n            ))\n        ) : (\n          <p>No {itemType} match your filters.</p>\n        )}\n      </div>\n\n      {/* Floating ScrollToTopButton */}\n      <ScrollToTopButton />\n\n      {showTypeModal && (\n        <ModalComponent\n          readonly={readonly}\n          setReadonly={setReadonly}\n          onClose={() => setShowTypeModal(false)}\n          onDelete={() => handleDeleteClick(selectedItem)}\n          {...(itemType === \"Report\"\n            ? { handleExportClick: () => handleExportClick(selectedItem) }\n            : {})}\n        />\n      )}\n      {showDeleteModal && (\n        <DeleteModal\n          itemType={itemType}\n          onClose={() => setShowDeleteModal(false)}\n          handleDeleteConfirm={handleDeleteConfirm}\n        />\n      )}\n    </>\n  );\n};\nexport default Page;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}