{"ast":null,"code":"var _jsxFileName = \"/home/santo/Desktop/Dev/workshop/front/src/components/NewReport.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\n// Utils\nimport getFilterOptions from \"../utils/pageFilters\";\n// Components\nimport Page from \"./Page\";\nimport ReportCard from \"../components/ReportCard\";\nimport ReportModal from \"../components/ReportModal\";\n// Contexts\nimport { useReportContext } from \"../contexts/ReportContext\";\nimport { useVehicleContext } from \"../contexts/VehicleContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewReport = () => {\n  _s();\n  const {\n    reports,\n    deleteReportWithAlert\n  } = useReportContext();\n  const {\n    vehicles\n  } = useVehicleContext();\n  const [filters, setFilters] = useState({\n    vehicle: \"\",\n    user: \"\",\n    created_at: \"\",\n    owner: \"\",\n    status: \"\"\n  });\n  const filteredReports = reports.filter(report => {\n    var _report$vehicle, _report$user;\n    // Find the vehicle associated with this report\n    const vehicle = vehicles.find(v => v.id === report.vehicle);\n    // Get the owner ID from the vehicle (if it exists)\n    const ownerId = vehicle ? vehicle.owner : null;\n    return (filters.vehicle === \"\" || ((_report$vehicle = report.vehicle) === null || _report$vehicle === void 0 ? void 0 : _report$vehicle.toString()) === filters.vehicle) && (filters.user === \"\" || ((_report$user = report.user) === null || _report$user === void 0 ? void 0 : _report$user.toString()) === filters.user) && (filters.created_at === \"\" || report.formatted_created_at.includes(filters.created_at)) && (filters.owner === \"\" || (ownerId === null || ownerId === void 0 ? void 0 : ownerId.toString()) === filters.owner) && (filters.status === \"\" || report.status === filters.status);\n  });\n  return /*#__PURE__*/_jsxDEV(Page, {\n    title: \"Report\",\n    filters: filters,\n    setFilters: setFilters,\n    filterOptions: getFilterOptions(filters).reports,\n    items: filteredReports,\n    deleteItemWithAlert: deleteReportWithAlert,\n    CardComponent: ReportCard,\n    FormComponent: ReportModal\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(NewReport, \"ln/79D1Dmmr3lBj2dQxNuzHy6tw=\", false, function () {\n  return [useReportContext, useVehicleContext];\n});\n_c = NewReport;\nexport default NewReport;\nvar _c;\n$RefreshReg$(_c, \"NewReport\");","map":{"version":3,"names":["useState","getFilterOptions","Page","ReportCard","ReportModal","useReportContext","useVehicleContext","jsxDEV","_jsxDEV","NewReport","_s","reports","deleteReportWithAlert","vehicles","filters","setFilters","vehicle","user","created_at","owner","status","filteredReports","filter","report","_report$vehicle","_report$user","find","v","id","ownerId","toString","formatted_created_at","includes","title","filterOptions","items","deleteItemWithAlert","CardComponent","FormComponent","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/santo/Desktop/Dev/workshop/front/src/components/NewReport.js"],"sourcesContent":["import { useState } from \"react\";\n// Utils\nimport getFilterOptions from \"../utils/pageFilters\";\n// Components\nimport Page from \"./Page\";\nimport ReportCard from \"../components/ReportCard\";\nimport ReportModal from \"../components/ReportModal\";\n// Contexts\nimport { useReportContext } from \"../contexts/ReportContext\";\nimport { useVehicleContext } from \"../contexts/VehicleContext\";\n\nconst NewReport = () => {\n  const { reports, deleteReportWithAlert } = useReportContext();\n  const { vehicles } = useVehicleContext();\n  const [filters, setFilters] = useState({\n    vehicle: \"\",\n    user: \"\",\n    created_at: \"\",\n    owner: \"\",\n    status: \"\",\n  });\n\n  const filteredReports = reports.filter((report) => {\n    // Find the vehicle associated with this report\n    const vehicle = vehicles.find((v) => v.id === report.vehicle);\n    // Get the owner ID from the vehicle (if it exists)\n    const ownerId = vehicle ? vehicle.owner : null;\n\n    return (\n      (filters.vehicle === \"\" ||\n        report.vehicle?.toString() === filters.vehicle) &&\n      (filters.user === \"\" || report.user?.toString() === filters.user) &&\n      (filters.created_at === \"\" ||\n        report.formatted_created_at.includes(filters.created_at)) &&\n      (filters.owner === \"\" || ownerId?.toString() === filters.owner) &&\n      (filters.status === \"\" || report.status === filters.status)\n    );\n  });\n\n  return (\n    <Page\n      title=\"Report\"\n      filters={filters}\n      setFilters={setFilters}\n      filterOptions={getFilterOptions(filters).reports}\n      items={filteredReports}\n      deleteItemWithAlert={deleteReportWithAlert}\n      CardComponent={ReportCard}\n      FormComponent={ReportModal}\n    />\n  );\n};\n\nexport default NewReport;\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC;AACA,OAAOC,gBAAgB,MAAM,sBAAsB;AACnD;AACA,OAAOC,IAAI,MAAM,QAAQ;AACzB,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,WAAW,MAAM,2BAA2B;AACnD;AACA,SAASC,gBAAgB,QAAQ,2BAA2B;AAC5D,SAASC,iBAAiB,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/D,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM;IAAEC,OAAO;IAAEC;EAAsB,CAAC,GAAGP,gBAAgB,CAAC,CAAC;EAC7D,MAAM;IAAEQ;EAAS,CAAC,GAAGP,iBAAiB,CAAC,CAAC;EACxC,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC;IACrCgB,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,EAAE;IACRC,UAAU,EAAE,EAAE;IACdC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,MAAMC,eAAe,GAAGV,OAAO,CAACW,MAAM,CAAEC,MAAM,IAAK;IAAA,IAAAC,eAAA,EAAAC,YAAA;IACjD;IACA,MAAMT,OAAO,GAAGH,QAAQ,CAACa,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,MAAM,CAACP,OAAO,CAAC;IAC7D;IACA,MAAMa,OAAO,GAAGb,OAAO,GAAGA,OAAO,CAACG,KAAK,GAAG,IAAI;IAE9C,OACE,CAACL,OAAO,CAACE,OAAO,KAAK,EAAE,IACrB,EAAAQ,eAAA,GAAAD,MAAM,CAACP,OAAO,cAAAQ,eAAA,uBAAdA,eAAA,CAAgBM,QAAQ,CAAC,CAAC,MAAKhB,OAAO,CAACE,OAAO,MAC/CF,OAAO,CAACG,IAAI,KAAK,EAAE,IAAI,EAAAQ,YAAA,GAAAF,MAAM,CAACN,IAAI,cAAAQ,YAAA,uBAAXA,YAAA,CAAaK,QAAQ,CAAC,CAAC,MAAKhB,OAAO,CAACG,IAAI,CAAC,KAChEH,OAAO,CAACI,UAAU,KAAK,EAAE,IACxBK,MAAM,CAACQ,oBAAoB,CAACC,QAAQ,CAAClB,OAAO,CAACI,UAAU,CAAC,CAAC,KAC1DJ,OAAO,CAACK,KAAK,KAAK,EAAE,IAAI,CAAAU,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,QAAQ,CAAC,CAAC,MAAKhB,OAAO,CAACK,KAAK,CAAC,KAC9DL,OAAO,CAACM,MAAM,KAAK,EAAE,IAAIG,MAAM,CAACH,MAAM,KAAKN,OAAO,CAACM,MAAM,CAAC;EAE/D,CAAC,CAAC;EAEF,oBACEZ,OAAA,CAACN,IAAI;IACH+B,KAAK,EAAC,QAAQ;IACdnB,OAAO,EAAEA,OAAQ;IACjBC,UAAU,EAAEA,UAAW;IACvBmB,aAAa,EAAEjC,gBAAgB,CAACa,OAAO,CAAC,CAACH,OAAQ;IACjDwB,KAAK,EAAEd,eAAgB;IACvBe,mBAAmB,EAAExB,qBAAsB;IAC3CyB,aAAa,EAAElC,UAAW;IAC1BmC,aAAa,EAAElC;EAAY;IAAAmC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5B,CAAC;AAEN,CAAC;AAAChC,EAAA,CAxCID,SAAS;EAAA,QAC8BJ,gBAAgB,EACtCC,iBAAiB;AAAA;AAAAqC,EAAA,GAFlClC,SAAS;AA0Cf,eAAeA,SAAS;AAAC,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}