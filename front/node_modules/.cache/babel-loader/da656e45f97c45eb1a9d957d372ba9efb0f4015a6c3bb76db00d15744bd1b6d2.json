{"ast":null,"code":"var _jsxFileName = \"/home/santo/Desktop/Dev/workshop/front/src/components/Page.js\",\n  _s = $RefreshSig$();\nimport { useState, useMemo } from \"react\";\n// Components\nimport FilterBar from \"./FilterBar\";\nimport DeleteModal from \"./DeleteModal\";\n// Contexts\nimport { useGlobalContext } from \"../contexts/GlobalContext\";\nimport { useVehicleContext } from \"../contexts/VehicleContext\";\n// Styles\nimport \"../styles/Cards.css\";\n// Utils\nimport { filterItems } from \"../utils/pageItemFilter\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Page = ({\n  itemType,\n  filters,\n  setFilters,\n  filterOptions,\n  items,\n  deleteItemWithAlert,\n  CardComponent,\n  ModalComponent\n}) => {\n  _s();\n  const {\n    selectedItems,\n    setSelectedItem\n  } = useGlobalContext();\n  const selectedItem = selectedItems[itemType];\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const {\n    vehicles,\n    getVehicleInfoByVehicleId\n  } = useVehicleContext();\n  const handleFilterChange = (name, value) => {\n    setFilters({\n      ...filters,\n      [name]: value\n    });\n  };\n\n  // Filter items based on filters\n  const filteredItems = useMemo(() => {\n    return items.filter(item => filterItems(item, filters, vehicles, getVehicleInfoByVehicleId));\n  }, [items, filters, vehicles, getVehicleInfoByVehicleId]);\n  const handleViewClick = item => {\n    setSelectedItem(itemType, item);\n    setShowCreateModal(false);\n    setShowDeleteModal(false);\n    setShowViewModal(true);\n  };\n  const handleCreateClick = () => {\n    setSelectedItem(null);\n    setShowDeleteModal(false);\n    setShowViewModal(false);\n    setShowCreateModal(true);\n  };\n  const handleEditClick = item => {\n    setSelectedItem(itemType, item);\n    setShowViewModal(false);\n    setShowDeleteModal(false);\n    setShowCreateModal(true);\n  };\n  const handleDeleteClick = item => {\n    setSelectedItem(itemType, item);\n    setShowViewModal(false);\n    setShowCreateModal(false);\n    setShowDeleteModal(true);\n  };\n  const handleDeleteConfirm = () => {\n    deleteItemWithAlert(selectedItem.id);\n    setShowDeleteModal(false);\n    setSelectedItem(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FilterBar, {\n      filterOptions: filterOptions,\n      onFilterChange: handleFilterChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"list\",\n      children: filteredItems.length > 0 ? filteredItems.sort((a, b) => b.status.localeCompare(a.status)).map(item => /*#__PURE__*/_jsxDEV(CardComponent, {\n        item: item,\n        handleViewClick: handleViewClick,\n        handleEditClick: handleEditClick,\n        handleDeleteClick: handleDeleteClick\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No items match your filters.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-float\",\n      onClick: handleCreateClick,\n      children: [\"New \", itemType]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), showViewModal && /*#__PURE__*/_jsxDEV(ModalComponent, {\n      item: selectedItem,\n      setSelectedItem: setSelectedItem,\n      onClose: () => setShowViewModal(false),\n      onDelete: () => handleDeleteClick(selectedItem)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }, this), showCreateModal && /*#__PURE__*/_jsxDEV(ModalComponent, {\n      item: selectedItem,\n      onClose: () => setShowCreateModal(false),\n      onDelete: () => handleDeleteClick(selectedItem)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), showDeleteModal && /*#__PURE__*/_jsxDEV(DeleteModal, {\n      item: selectedItem,\n      itemType: itemType,\n      onClose: () => setShowDeleteModal(false),\n      onConfirm: handleDeleteConfirm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(Page, \"fyu1ny5Ww9S9GXsbcll8CdctPSQ=\", false, function () {\n  return [useGlobalContext, useVehicleContext];\n});\n_c = Page;\nexport default Page;\nvar _c;\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"names":["useState","useMemo","FilterBar","DeleteModal","useGlobalContext","useVehicleContext","filterItems","jsxDEV","_jsxDEV","Fragment","_Fragment","Page","itemType","filters","setFilters","filterOptions","items","deleteItemWithAlert","CardComponent","ModalComponent","_s","selectedItems","setSelectedItem","selectedItem","showCreateModal","setShowCreateModal","showViewModal","setShowViewModal","showDeleteModal","setShowDeleteModal","vehicles","getVehicleInfoByVehicleId","handleFilterChange","name","value","filteredItems","filter","item","handleViewClick","handleCreateClick","handleEditClick","handleDeleteClick","handleDeleteConfirm","id","children","onFilterChange","fileName","_jsxFileName","lineNumber","columnNumber","className","length","sort","a","b","status","localeCompare","map","onClick","onClose","onDelete","onConfirm","_c","$RefreshReg$"],"sources":["/home/santo/Desktop/Dev/workshop/front/src/components/Page.js"],"sourcesContent":["import { useState, useMemo } from \"react\";\n// Components\nimport FilterBar from \"./FilterBar\";\nimport DeleteModal from \"./DeleteModal\";\n// Contexts\nimport { useGlobalContext } from \"../contexts/GlobalContext\";\nimport { useVehicleContext } from \"../contexts/VehicleContext\";\n// Styles\nimport \"../styles/Cards.css\";\n// Utils\nimport { filterItems } from \"../utils/pageItemFilter\";\n\nconst Page = ({\n  itemType,\n  filters,\n  setFilters,\n  filterOptions,\n  items,\n  deleteItemWithAlert,\n  CardComponent,\n  ModalComponent,\n}) => {\n  const { selectedItems, setSelectedItem } = useGlobalContext();\n  const selectedItem = selectedItems[itemType];\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showViewModal, setShowViewModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n\n  const { vehicles, getVehicleInfoByVehicleId } = useVehicleContext();\n\n  const handleFilterChange = (name, value) => {\n    setFilters({ ...filters, [name]: value });\n  };\n\n  // Filter items based on filters\n  const filteredItems = useMemo(() => {\n    return items.filter((item) =>\n      filterItems(item, filters, vehicles, getVehicleInfoByVehicleId)\n    );\n  }, [items, filters, vehicles, getVehicleInfoByVehicleId]);\n\n  const handleViewClick = (item) => {\n    setSelectedItem(itemType, item);\n    setShowCreateModal(false);\n    setShowDeleteModal(false);\n    setShowViewModal(true);\n  };\n\n  const handleCreateClick = () => {\n    setSelectedItem(null);\n    setShowDeleteModal(false);\n    setShowViewModal(false);\n    setShowCreateModal(true);\n  };\n\n  const handleEditClick = (item) => {\n    setSelectedItem(itemType, item);\n    setShowViewModal(false);\n    setShowDeleteModal(false);\n    setShowCreateModal(true);\n  };\n\n  const handleDeleteClick = (item) => {\n    setSelectedItem(itemType, item);\n    setShowViewModal(false);\n    setShowCreateModal(false);\n    setShowDeleteModal(true);\n  };\n\n  const handleDeleteConfirm = () => {\n    deleteItemWithAlert(selectedItem.id);\n    setShowDeleteModal(false);\n    setSelectedItem(null);\n  };\n\n  return (\n    <>\n      {/* Filter bar with filter options */}\n      <FilterBar\n        filterOptions={filterOptions}\n        onFilterChange={handleFilterChange}\n      />\n\n      {/* Items list with card display */}\n      <div className=\"list\">\n        {filteredItems.length > 0 ? (\n          filteredItems\n            .sort((a, b) => b.status.localeCompare(a.status))\n            .map((item) => (\n              <CardComponent\n                key={item.id}\n                item={item}\n                handleViewClick={handleViewClick}\n                handleEditClick={handleEditClick}\n                handleDeleteClick={handleDeleteClick}\n              />\n            ))\n        ) : (\n          <p>No items match your filters.</p>\n        )}\n      </div>\n\n      {/* Floating create Button */}\n      <button className=\"btn btn-float\" onClick={handleCreateClick}>\n        New {itemType}\n      </button>\n\n      {showViewModal && (\n        <ModalComponent\n          item={selectedItem}\n          setSelectedItem={setSelectedItem}\n          onClose={() => setShowViewModal(false)}\n          onDelete={() => handleDeleteClick(selectedItem)}\n        />\n      )}\n      {showCreateModal && (\n        <ModalComponent\n          item={selectedItem}\n          onClose={() => setShowCreateModal(false)}\n          onDelete={() => handleDeleteClick(selectedItem)}\n        />\n      )}\n      {showDeleteModal && (\n        <DeleteModal\n          item={selectedItem}\n          itemType={itemType}\n          onClose={() => setShowDeleteModal(false)}\n          onConfirm={handleDeleteConfirm}\n        />\n      )}\n    </>\n  );\n};\nexport default Page;\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AACzC;AACA,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,WAAW,MAAM,eAAe;AACvC;AACA,SAASC,gBAAgB,QAAQ,2BAA2B;AAC5D,SAASC,iBAAiB,QAAQ,4BAA4B;AAC9D;AACA,OAAO,qBAAqB;AAC5B;AACA,SAASC,WAAW,QAAQ,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEtD,MAAMC,IAAI,GAAGA,CAAC;EACZC,QAAQ;EACRC,OAAO;EACPC,UAAU;EACVC,aAAa;EACbC,KAAK;EACLC,mBAAmB;EACnBC,aAAa;EACbC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM;IAAEC,aAAa;IAAEC;EAAgB,CAAC,GAAGlB,gBAAgB,CAAC,CAAC;EAC7D,MAAMmB,YAAY,GAAGF,aAAa,CAACT,QAAQ,CAAC;EAC5C,MAAM,CAACY,eAAe,EAAEC,kBAAkB,CAAC,GAAGzB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAAC0B,aAAa,EAAEC,gBAAgB,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAAC4B,eAAe,EAAEC,kBAAkB,CAAC,GAAG7B,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAM;IAAE8B,QAAQ;IAAEC;EAA0B,CAAC,GAAG1B,iBAAiB,CAAC,CAAC;EAEnE,MAAM2B,kBAAkB,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAAK;IAC1CpB,UAAU,CAAC;MAAE,GAAGD,OAAO;MAAE,CAACoB,IAAI,GAAGC;IAAM,CAAC,CAAC;EAC3C,CAAC;;EAED;EACA,MAAMC,aAAa,GAAGlC,OAAO,CAAC,MAAM;IAClC,OAAOe,KAAK,CAACoB,MAAM,CAAEC,IAAI,IACvB/B,WAAW,CAAC+B,IAAI,EAAExB,OAAO,EAAEiB,QAAQ,EAAEC,yBAAyB,CAChE,CAAC;EACH,CAAC,EAAE,CAACf,KAAK,EAAEH,OAAO,EAAEiB,QAAQ,EAAEC,yBAAyB,CAAC,CAAC;EAEzD,MAAMO,eAAe,GAAID,IAAI,IAAK;IAChCf,eAAe,CAACV,QAAQ,EAAEyB,IAAI,CAAC;IAC/BZ,kBAAkB,CAAC,KAAK,CAAC;IACzBI,kBAAkB,CAAC,KAAK,CAAC;IACzBF,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMY,iBAAiB,GAAGA,CAAA,KAAM;IAC9BjB,eAAe,CAAC,IAAI,CAAC;IACrBO,kBAAkB,CAAC,KAAK,CAAC;IACzBF,gBAAgB,CAAC,KAAK,CAAC;IACvBF,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMe,eAAe,GAAIH,IAAI,IAAK;IAChCf,eAAe,CAACV,QAAQ,EAAEyB,IAAI,CAAC;IAC/BV,gBAAgB,CAAC,KAAK,CAAC;IACvBE,kBAAkB,CAAC,KAAK,CAAC;IACzBJ,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMgB,iBAAiB,GAAIJ,IAAI,IAAK;IAClCf,eAAe,CAACV,QAAQ,EAAEyB,IAAI,CAAC;IAC/BV,gBAAgB,CAAC,KAAK,CAAC;IACvBF,kBAAkB,CAAC,KAAK,CAAC;IACzBI,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMa,mBAAmB,GAAGA,CAAA,KAAM;IAChCzB,mBAAmB,CAACM,YAAY,CAACoB,EAAE,CAAC;IACpCd,kBAAkB,CAAC,KAAK,CAAC;IACzBP,eAAe,CAAC,IAAI,CAAC;EACvB,CAAC;EAED,oBACEd,OAAA,CAAAE,SAAA;IAAAkC,QAAA,gBAEEpC,OAAA,CAACN,SAAS;MACRa,aAAa,EAAEA,aAAc;MAC7B8B,cAAc,EAAEb;IAAmB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC,eAGFzC,OAAA;MAAK0C,SAAS,EAAC,MAAM;MAAAN,QAAA,EAClBT,aAAa,CAACgB,MAAM,GAAG,CAAC,GACvBhB,aAAa,CACViB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,MAAM,CAACC,aAAa,CAACH,CAAC,CAACE,MAAM,CAAC,CAAC,CAChDE,GAAG,CAAEpB,IAAI,iBACR7B,OAAA,CAACU,aAAa;QAEZmB,IAAI,EAAEA,IAAK;QACXC,eAAe,EAAEA,eAAgB;QACjCE,eAAe,EAAEA,eAAgB;QACjCC,iBAAiB,EAAEA;MAAkB,GAJhCJ,IAAI,CAACM,EAAE;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKb,CACF,CAAC,gBAEJzC,OAAA;QAAAoC,QAAA,EAAG;MAA4B;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IACnC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAGNzC,OAAA;MAAQ0C,SAAS,EAAC,eAAe;MAACQ,OAAO,EAAEnB,iBAAkB;MAAAK,QAAA,GAAC,MACxD,EAAChC,QAAQ;IAAA;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC,EAERvB,aAAa,iBACZlB,OAAA,CAACW,cAAc;MACbkB,IAAI,EAAEd,YAAa;MACnBD,eAAe,EAAEA,eAAgB;MACjCqC,OAAO,EAAEA,CAAA,KAAMhC,gBAAgB,CAAC,KAAK,CAAE;MACvCiC,QAAQ,EAAEA,CAAA,KAAMnB,iBAAiB,CAAClB,YAAY;IAAE;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CACF,EACAzB,eAAe,iBACdhB,OAAA,CAACW,cAAc;MACbkB,IAAI,EAAEd,YAAa;MACnBoC,OAAO,EAAEA,CAAA,KAAMlC,kBAAkB,CAAC,KAAK,CAAE;MACzCmC,QAAQ,EAAEA,CAAA,KAAMnB,iBAAiB,CAAClB,YAAY;IAAE;MAAAuB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CACF,EACArB,eAAe,iBACdpB,OAAA,CAACL,WAAW;MACVkC,IAAI,EAAEd,YAAa;MACnBX,QAAQ,EAAEA,QAAS;MACnB+C,OAAO,EAAEA,CAAA,KAAM9B,kBAAkB,CAAC,KAAK,CAAE;MACzCgC,SAAS,EAAEnB;IAAoB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CACF;EAAA,eACD,CAAC;AAEP,CAAC;AAAC7B,EAAA,CAxHIT,IAAI;EAAA,QAUmCP,gBAAgB,EAMXC,iBAAiB;AAAA;AAAAyD,EAAA,GAhB7DnD,IAAI;AAyHV,eAAeA,IAAI;AAAC,IAAAmD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}